<app-mobile-header></app-mobile-header>
<div class="events-container">
  <!-- Показать заголовок и слайдер только если isEmployee == false -->
  <h2 class="heading" *ngIf="!isEmployee">Рекомендуемые события</h2>

  <!-- Показать кнопку "Создать событие" только если isEmployee == true -->
  <div *ngIf="isEmployee">
    <button class="create-event-btn" (click)="goToCreateEventPage()">Создать событие</button>
  </div>

  <!-- Показываем слайдер с событиями только если isEmployee == false -->
  <div *ngIf="!isEmployee" class="slider">
    <tui-carousel
      [draggable]="true"
      [(index)]="currentIndex"
      [itemsCount]="1"
    >
      <ng-container *ngFor="let event of events">
        <tui-island *tuiItem>
          <div class="carousel-item" (click)="goToEventPage(event.id)">
            <img [src]="event.image" alt="Event Image" class="event-image" />
            <div class="event-info">
              <h3>{{ event.name }}</h3>
              <p>{{ event.start_time | date: 'shortTime' }} - {{ event.end_time | date: 'shortTime' }}</p>
            </div>
          </div>
        </tui-island>
      </ng-container>
    </tui-carousel>
    <tui-pagination
      size="s"
      class="pagination"
      [length]="events.length"
      [(index)]="currentIndex"
    ></tui-pagination>
  </div>

  <!-- Фильтр и поиск -->
  <div class="filters">
    <!-- Поиск по названию события -->
    <tui-input
      class="filter-search"
      [(ngModel)]="searchQuery"
      placeholder="Поиск по событиям"
      aria-placeholder="Поиск по названию события"
    ></tui-input>
  </div>

  <!-- Список событий -->
  <div class="event-list">
    <div *ngFor="let event of filteredEvents" class="event-item" (click)="goToEventPage(event.id)">
      <img [src]="event.image" alt="Event image" />
      <div class="event-info">
        <h3>{{ event.name }}</h3>
        <p>{{ event.start_time | date: 'shortDate' }}</p>
        <p>{{ event.location }}</p>
      </div>
    </div>
  </div>
</div>
